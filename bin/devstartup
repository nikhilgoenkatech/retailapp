#!/bin/bash
#
# Stop on Errors
# See https:vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail/
set -Eeuxo pipefail

# Command line options
usage() {
    echo "Usage: $0 (vanilla|instrument|debug)"
}

#!/bin/bash
#
# Stop on Errors
# See https:vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail/
set -Eeuxo pipefail

export STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
export STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
export EMAIL_HOST_USER=${EMAIL_HOST_USER}
export EMAIL_HOST_PASSWORD=${EMAIL_HOST_PASSWORD}
export DT_TENANT_URL=${DT_TENANT_URL}
export DT_API_TOKEN=${DT_API_TOKEN}
export CURRENCYSERVICE_URL=${CURRENCYSERVICE_URL}

# Enable the following line to disable Django Auto-instrumentation with OpenTelemetry
#export OTEL_PYTHON_DJANGO_INSTRUMENT=False

# The --noreload flag is needed to avoid Django from running main twice
# See https://github.com/open-telemetry/opentelemetry-python/tree/main/docs/examples/django
python src/manage.py runserver --noreload